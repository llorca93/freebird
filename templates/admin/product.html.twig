{% extends 'baseAdmin.html.twig' %}

{% block title %}admin_products{% endblock %}

{% block body %} 

<div>
  <h1 class="pb-5">Liste des produits</h1>

  <table class="table table-bordered table-dark text-center table-hover table-sm">
      <thead>
          <tr>
              <th>N°</th>
              <th>Titre</th>
              <th>Description</th>
              <th>Prix</th>
              <th>Image 1</th>
              <th>Image 2</th>
              <th>Image 3</th>
              <th>Catégorie</th>
              <th>Actions</th>
          </tr>
      </thead>
      <tbody>
          {% for product in products %}
              <tr>
                  <td class="align-middle">{{ loop.index }}</td>
                  <td class="align-middle">{{ product.name }}</td>
                  <td class="align-middle">{{ product.description|u.truncate(50, '...') }}</td>
                  <td class="align-middle">{{ product.price|number_format(0, ',', ' ') }}</td>
                  <td class="align-middle"><img src="{{ asset('images/products/') ~ product.img1 }}" alt="photo principale produit"></td>
                  <td class="align-middle"><img src="{{ asset('images/products/') ~ product.img2 }}" alt="photo principale produit"></td>
                  <td class="align-middle"><img src="{{ asset('images/products/') ~ product.img3 }}" alt="photo principale produit"></td>
                  <td class="align-middle">{{ product.category.name }}</td>
                  <td class="align-middle">
                      <a href="{{ path('admin_product_update', {'id':product.id}) }}"><i class="fas fa-pen-square"></i></a>
                      <a href="{{ path('admin_product_delete', {'id':product.id}) }}"><i class="fas fa-trash-alt"></i></a>
                  </td>
              </tr>
          {% endfor %}
      </tbody>
  </table>
  <div class="text-right my-5">
      <a href="{{ path('admin_product_create') }}" class="btn btn-outline-dark">Ajouter un produit</a>
  </div>
</div>
{% endblock %}

